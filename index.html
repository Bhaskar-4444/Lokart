<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lokart - Fresh Vegetables for Hotels and Dhabas</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.21.4/Babel.min.js"></script>
</head>
<body>
  <div id="root"></div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js';
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js';
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js';

    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAAlsMvIBJf5N39wjckLszxvC5m_bpnINc",
      authDomain: "lokart-2dc3c.firebaseapp.com",
      projectId: "lokart-2dc3c",
      storageBucket: "lokart-2dc3c.firebasestorage.app",
      messagingSenderId: "174715257453",
      appId: "1:174715257453:web:be4b91210aa1771f587564",
      measurementId: "G-NGHHKZHCV5"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // React Components
    const { useState, useEffect } = React;

    function Navbar({ user, setShowModal, handleSignOut }) {
      return (
        <nav className="bg-green-600 text-white p-4">
          <div className="container mx-auto flex justify-between items-center">
            <h1 className="text-2xl font-bold">Lokart</h1>
            <ul className="flex space-x-4">
              <li><a href="#home" className="hover:underline">Home</a></li>
              <li><a href="#products" className="hover:underline">Products</a></li>
              <li><a href="#quality" className="hover:underline">Quality</a></li>
              <li><a href="#delivery" className="hover:underline">Delivery</a></li>
              {user ? (
                <>
                  <li><a href="#account" className="hover:underline">My Account</a></li>
                  <li><button onClick={handleSignOut} className="hover:underline">Sign Out</button></li>
                </>
              ) : (
                <li><button onClick={() => setShowModal(true)} className="hover:underline">Login/Signup</button></li>
              )}
            </ul>
          </div>
        </nav>
      );
    }

    function LoginModal({ showModal, setShowModal, setUser }) {
      const [email, setEmail] = useState('');
      const [password, setPassword] = useState('');
      const [isSignUp, setIsSignUp] = useState(false);
      const [error, setError] = useState('');

      const handleEmailAuth = async () => {
        try {
          if (isSignUp) {
            await createUserWithEmailAndPassword(auth, email, password);
          } else {
            await signInWithEmailAndPassword(auth, email, password);
          }
          setUser(auth.currentUser);
          setShowModal(false);
          setError('');
        } catch (err) {
          setError(err.message);
        }
      };

      const handleGoogleAuth = async () => {
        try {
          await signInWithPopup(auth, provider);
          setUser(auth.currentUser);
          setShowModal(false);
          setError('');
        } catch (err) {
          setError(err.message);
        }
      };

      if (!showModal) return null;

      return (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
          <div className="bg-white p-6 rounded-lg shadow-md w-full max-w-md">
            <h2 className="text-2xl font-bold mb-4">{isSignUp ? 'Sign Up' : 'Login'}</h2>
            {error && <p className="text-red-500 mb-4">{error}</p>}
            <input
              type="email"
              placeholder="Email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full p-2 mb-4 border rounded"
            />
            <input
              type="password"
              placeholder="Password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full p-2 mb-4 border rounded"
            />
            <button
              onClick={handleEmailAuth}
              className="w-full bg-green-600 text-white p-2 rounded mb-4 hover:bg-green-700"
            >
              {isSignUp ? 'Sign Up' : 'Login'}
            </button>
            <button
              onClick={handleGoogleAuth}
              className="w-full bg-blue-600 text-white p-2 rounded mb-4 hover:bg-blue-700"
            >
              Sign in with Google
            </button>
            <button
              onClick={() => setIsSignUp(!isSignUp)}
              className="text-green-600 hover:underline"
            >
              {isSignUp ? 'Already have an account? Login' : 'Need an account? Sign Up'}
            </button>
            <button
              onClick={() => setShowModal(false)}
              className="mt-4 text-gray-600 hover:underline"
            >
              Close
            </button>
          </div>
        </div>
      );
    }

    function Hero() {
      return (
        <section id="home" className="bg-green-100 py-16 text-center">
          <div className="container mx-auto">
            <h2 className="text-4xl font-bold mb-4">Fresh & Wholesome Vegetables for Hotels and Dhabas</h2>
            <p className="text-lg mb-6">Lokart delivers farm-fresh vegetables to elevate your culinary offerings.</p>
            <a href="#account" className="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700">Get Started</a>
          </div>
        </section>
      );
    }

    function Products() {
      return (
        <section id="products" className="py-16">
          <div className="container mx-auto">
            <h2 className="text-3xl font-bold text-center mb-8">Our Wide Range of Vegetables</h2>
            <p className="text-lg text-center mb-6">From crisp leafy greens to hearty root vegetables, we supply both conventional and organic options to meet your needs.</p>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="bg-white p-6 rounded-lg shadow-md">
                <h3 className="text-xl font-semibold mb-2">Leafy Greens</h3>
                <p>Crisp lettuce, spinach, and kale, perfect for salads and healthy dishes.</p>
              </div>
              <div className="bg-white p-6 rounded-lg shadow-md">
                <h3 className="text-xl font-semibold mb-2">Root Vegetables</h3>
                <p>Fresh carrots, potatoes, and beets, ideal for hearty meals.</p>
              </div>
              <div className="bg-white p-6 rounded-lg shadow-md">
                <h3 className="text-xl font-semibold mb-2">Organic Options</h3>
                <p>Chemical-free produce for health-conscious menus.</p>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function QualityControl() {
      return (
        <section id="quality" className="bg-gray-100 py-16">
          <div className="container mx-auto">
            <h2 className="text-3xl font-bold text-center mb-8">Uncompromising Quality Control</h2>
            <p className="text-lg text-center mb-6">We ensure every vegetable meets the highest standards of freshness and flavor through rigorous inspections.</p>
            <div className="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-6">
              <div className="bg-white p-6 rounded-lg shadow-md text-center">
                <h3 className="text-xl font-semibold mb-2">Freshness Guaranteed</h3>
                <p>Sourced directly from farms and delivered swiftly to your kitchen.</p>
              </div>
              <div className="bg-white p-6 rounded-lg shadow-md text-center">
                <h3 className="text-xl font-semibold mb-2">Quality Inspections</h3>
                <p>Each batch is checked for color, texture, and taste.</p>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function Delivery() {
      return (
        <section id="delivery" className="py-16">
          <div className="container mx-auto">
            <h2 className="text-3xl font-bold text-center mb-8">Reliable & Timely Delivery</h2>
            <p className="text-lg text-center mb-6">Our efficient logistics ensure your vegetables arrive fresh and on time, every time.</p>
            <div className="flex justify-center">
              <div className="bg-white p-6 rounded-lg shadow-md text-center">
                <h3 className="text-xl font-semibold mb-2">Nationwide Network</h3>
                <p>Partnered with trusted delivery services for prompt supply to hotels and dhabas.</p>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function Account({ user }) {
      return (
        <section id="account" className="bg-green-100 py-16">
          <div className="container mx-auto">
            <h2 className="text-3xl font-bold text-center mb-8">My Account</h2>
            {user ? (
              <div className="flex justify-center">
                <div className="bg-white p-6 rounded-lg shadow-md w-full max-w-md">
                  <p className="mb-4">Welcome, {user.email || user.displayName}!</p>
                  <p className="mb-4">Your Account Details:</p>
                  <ul className="list-disc list-inside">
                    <li>No recent orders.</li>
                    <li>Manage your profile and orders here.</li>
                  </ul>
                  <a
                    href="#products"
                    className="mt-4 inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700"
                  >
                    Browse Products
                  </a>
                </div>
              </div>
            ) : (
              <p className="text-lg text-center">Please log in to view your account.</p>
            )}
          </div>
        </section>
      );
    }

    function Footer() {
      return (
        <footer className="bg-green-600 text-white py-4">
          <div className="container mx-auto text-center">
            <p>&copy; 2025 Lokart. All rights reserved.</p>
          </div>
        </footer>
      );
    }

    function App() {
      const [user, setUser] = useState(null);
      const [showModal, setShowModal] = useState(false);

      useEffect(() => {
        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {
          setUser(currentUser);
        });
        return () => unsubscribe();
      }, []);

      const handleSignOut = async () => {
        try {
          await signOut(auth);
          setUser(null);
        } catch (err) {
          console.error('Sign out error:', err);
        }
      };

      return (
        <div>
          <Navbar user={user} setShowModal={setShowModal} handleSignOut={handleSignOut} />
          <LoginModal showModal={showModal} setShowModal={setShowModal} setUser={setUser} />
          <Hero />
          <Products />
          <QualityControl />
          <Delivery />
          <Account user={user} />
          <Footer />
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
